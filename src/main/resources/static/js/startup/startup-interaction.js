
var table = [
	
	
	
	"http://cdn3.nflximg.net/webp/0163/2360163.webp", "The Finder", "http://www.imdb.com/title/tt1943524/", 1, 4,
	"http://cdn7.nflximg.net/webp/6947/3076947.webp", "Life", "http://www.imdb.com/title/tt0874936/", 2, 4,
	"http://cdn7.nflximg.net/webp/2157/2432157.webp", "Army Wives", "http://www.imdb.com/title/tt0859592/", 3, 4,
	"http://cdn9.nflximg.net/webp/9379/3339379.webp", "Doctor Who", "http://www.imdb.com/title/tt0436992/", 4, 4,
	"http://cdn9.nflximg.net/webp/8109/11948109.webp", "Psych", "http://www.imdb.com/title/tt0491738/", 5, 4,
	"http://cdn7.nflximg.net/webp/7787/3377787.webp", "Freaks and Geeks", "http://www.imdb.com/title/tt0193676/", 6, 4,
	"http://cdn7.nflximg.net/webp/8247/3378247.webp", "Undercover Boss", "http://www.imdb.com/title/tt1442553/", 7, 4,
	"http://cdn6.nflximg.net/webp/1426/2101426.webp", "Top Gear", "http://www.imdb.com/title/tt1628033/", 8, 4,
	"http://cdn9.nflximg.net/webp/7509/3757509.webp", "Scrubs", "http://www.imdb.com/title/tt0285403/", 9, 4,
	"http://cdn7.nflximg.net/webp/9327/2609327.webp", "Heartland", "http://www.imdb.com/title/tt1094229/", 10, 4,
	"http://cdn1.nflximg.net/webp/7621/3787621.webp", "Futurama", "http://www.imdb.com/title/tt0149460/", 11, 4,
	"http://cdn0.nflximg.net/webp/6270/11216270.webp", "The Walking Dead", "http://www.imdb.com/title/tt1520211/", 12, 4,
	"http://cdn8.nflximg.net/webp/4998/3894998.webp", "Weeds", "http://www.imdb.com/title/tt0439100/", 13, 4,
	"http://cdn1.nflximg.net/webp/5051/2855051.webp", "Grey's Anatomy", "http://www.imdb.com/title/tt0413573/", 14, 4,
	"http://cdn4.nflximg.net/webp/2724/3912724.webp", "Merlin", "http://www.imdb.com/title/tt1199099/", 15, 4,
	"http://cdn2.nflximg.net/webp/0572/11330572.webp", "Parks and Recreation", "http://www.imdb.com/title/tt1266020/", 16, 4,
	"http://cdn6.nflximg.net/webp/2746/3962746.webp", "Robin Hood", "http://www.imdb.com/title/tt0787985/", 17, 4,
	"http://cdn3.nflximg.net/webp/5553/4075553.webp", "The Clone Wars", "http://www.imdb.com/title/tt0458290/", 18, 4,
	"http://cdn3.nflximg.net/webp/6933/4106933.webp", "Being Human", "http://www.imdb.com/title/tt1595680/", 1, 5,
	"http://cdn5.nflximg.net/webp/5815/2515815.webp", "Family Guy", "http://www.imdb.com/title/tt0182576/", 2, 5,
	"http://cdn5.nflximg.net/webp/9195/11739195.webp", "Hawaii Five-O", "http://www.imdb.com/title/tt1600194/", 3, 5,
	"http://cdn9.nflximg.net/webp/7639/4107639.webp", "Chuck", "http://www.imdb.com/title/tt0934814/", 4, 5,
	"http://cdn1.nflximg.net/webp/3081/1803081.webp", "Fringe", "http://www.imdb.com/title/tt1119644/", 5, 5,
	"http://cdn1.nflximg.net/webp/7451/11317451.webp", "Gilmore Girls", "http://www.imdb.com/title/tt0238784/", 6, 5,
	"http://cdn2.nflximg.net/webp/3202/1783202.webp", "Melissa & Joey", "http://www.imdb.com/title/tt1597420/", 7, 5,
	"http://cdn4.nflximg.net/webp/1284/2031284.webp", "One Tree Hill", "http://www.imdb.com/title/tt0368530/", 8, 5,
	"http://cdn1.nflximg.net/webp/7941/8357941.webp", "That 70's Show", "http://www.imdb.com/title/tt0165598/", 9, 5,
	"http://cdn0.nflximg.net/webp/5160/4185160.webp", "House", "http://www.imdb.com/title/tt0412142/", 10, 5,
	"http://cdn5.nflximg.net/webp/0735/8400735.webp", "30 Rock", "http://www.imdb.com/title/tt0496424/", 11, 5,
	"http://cdn0.nflximg.net/webp/7300/4177300.webp", "Breaking Bad", "http://www.imdb.com/title/tt0903747/", 12, 5,
	"http://cdn4.nflximg.net/webp/0604/3360604.webp", "The Office", "http://www.imdb.com/title/tt0386676/", 13, 5,
	"http://cdn2.nflximg.net/webp/0712/840712.webp", "Hawthorne", "http://www.imdb.com/title/tt1382367/", 14, 5,
	"http://cdn6.nflximg.net/webp/2076/8912076.webp", "Gossip Girl", "http://www.imdb.com/title/tt0397442/", 15, 5,
	"http://cdn6.nflximg.net/webp/8816/868816.webp", "Numb3rs", "http://www.imdb.com/title/tt0433309/", 16, 5,
	"http://cdn2.nflximg.net/webp/1402/1771402.webp", "Baby Daddy", "http://www.imdb.com/title/tt2177489/", 17, 5,
	"http://cdn6.nflximg.net/webp/9096/869096.webp", "The Tudors", "http://www.imdb.com/title/tt0758790/", 18, 5,
	"http://cdn3.nflximg.net/webp/7853/1297853.webp", "90210", "http://www.imdb.com/title/tt1225901/", 1, 6,
	"http://cdn1.nflximg.net/webp/9541/869541.webp", "Malcom in the Middle", "http://www.imdb.com/title/tt0212671/", 2, 6,
	"http://cdn7.nflximg.net/webp/8137/13068137.webp", "The Vampire Diaries", "http://www.imdb.com/title/tt1405406/", 3, 6,
	"http://cdn7.nflximg.net/webp/0977/890977.webp", "Three Rivers", "http://www.imdb.com/title/tt1440346/", 4, 6,
	"http://cdn4.nflximg.net/webp/7494/11327494.webp", "Arrow", "http://www.imdb.com/title/tt2193021/", 5, 6,
	"http://cdn4.nflximg.net/webp/5524/2005524.webp", "Lost Girl", "http://www.imdb.com/title/tt1429449/", 6, 6,
	"http://cdn9.nflximg.net/webp/1759/9011759.webp", "Continuum", "http://www.imdb.com/title/tt1954347/", 7, 6,
	"http://cdn6.nflximg.net/webp/7126/9297126.webp", "Alias", "http://www.imdb.com/title/tt0285333/", 8, 6,
	"http://cdn8.nflximg.net/webp/1088/11741088.webp", "Arrested Development", "http://www.imdb.com/title/tt0367279/", 9, 6,
	"http://cdn6.nflximg.net/webp/8686/9638686.webp", "The Fosters", "http://www.imdb.com/title/tt2262532/", 10, 6,
	"http://cdn6.nflximg.net/webp/7186/11097186.webp", "Criminal Minds", "http://www.imdb.com/title/tt0452046/", 11, 6,
	"http://cdn6.nflximg.net/webp/7136/9977136.webp", "How I Met Your Mother", "http://www.imdb.com/title/tt0460649/", 12, 6,
	"http://cdn3.nflximg.net/webp/7213/11097213.webp", "Jericho", "http://www.imdb.com/title/tt0805663/", 13, 6,
	"http://cdn5.nflximg.net/webp/5105/11165105.webp", "Revenge", "http://www.imdb.com/title/tt1837642/", 14, 6,
	"http://cdn5.nflximg.net/webp/4705/11174705.webp", "Parenthood", "http://www.imdb.com/title/tt1416765/", 15, 6,
	"http://cdn7.nflximg.net/webp/4897/11174897.webp", "Once Upon a Time", "http://www.imdb.com/title/tt1843230/", 16, 6,
	"http://cdn5.nflximg.net/webp/9795/11899795.webp", "The 100", "http://www.imdb.com/title/tt2661044/", 17, 6,
	"http://cdn4.nflximg.net/webp/9334/11379334.webp", "Bones", "http://www.imdb.com/title/tt0460627/", 18, 6,
	"http://cdn4.nflximg.net/webp/1344/11941344.webp", "Dallas", "http://www.imdb.com/title/tt1723760/", 1, 7,
	"http://cdn5.nflximg.net/webp/2665/9582665.webp", "Scandal", "http://www.imdb.com/title/tt1837576/", 2, 7,
	"http://cdn4.nflximg.net/webp/9424/11379424.webp", "It's always sunny ...", "http://www.imdb.com/title/tt0472954/", 3, 7,
	"http://cdn1.nflximg.net/webp/8861/11558861.webp", "Reckless", "http://www.imdb.com/title/tt2734804/", 4, 7,
	"http://cdn8.nflximg.net/webp/6468/11746468.webp", "Hemlock Grove", "http://www.imdb.com/title/tt2309295/", 5, 7,
	"http://cdn1.nflximg.net/webp/7781/8197781.webp", "Chowder", "http://www.imdb.com/title/tt1140100/", 6, 7,
	"http://cdn9.nflximg.net/webp/6249/3076249.webp", "Lipstick Jungle", "http://www.imdb.com/title/tt0489606/", 7, 7,
	"http://cdn8.nflximg.net/webp/7598/11317598.webp", "Revolution", "http://www.imdb.com/title/tt2070791/", 8, 7,
	"http://cdn2.nflximg.net/webp/7642/12087642.webp", "Duck Dynasty", "http://www.imdb.com/title/tt2229907/", 9, 7,
	"http://cdn5.nflximg.net/webp/9855/11729855.webp", "Switched At Birth", "http://www.imdb.com/title/tt1758772/", 10, 7,
	"http://cdn0.nflximg.net/webp/4710/13044710.webp", "Bloodline", "http://www.imdb.com/title/tt3520702/", 11, 7,
	"http://cdn5.nflximg.net/webp/4005/4024005.webp", "Terra Nova", "http://www.imdb.com/title/tt1641349/", 12, 7,
	"http://cdn3.nflximg.net/webp/9723/12029723.webp", "America's Book of Secrets", "http://www.imdb.com/title/tt2198333/", 13, 7,
	"http://cdn1.nflximg.net/webp/1321/841321.webp", "MASH", "http://www.imdb.com/title/tt0068098/", 14, 7,
	"http://cdn3.nflximg.net/webp/8153/11798153.webp", "Orange is the New Black", "http://www.imdb.com/title/tt2372162/", 15, 7,
	"http://cdn2.nflximg.net/webp/8112/9748112.webp", "Mixology", "http://www.imdb.com/title/tt2727600/", 16, 7,
	"http://cdn5.nflximg.net/webp/4285/9654285.webp", "Bitten", "http://www.imdb.com/title/tt2365946/", 17, 7,
	"http://cdn0.nflximg.net/webp/1830/2431830.webp", "Private Practice", "http://www.imdb.com/title/tt0972412/", 18, 7
];

var camera, scene, renderer;
var controls;

var objects = [];
var targets = { table: [], sphere: [], helix: [], grid: [] };

init();
animate();

function init() {

	camera = new THREE.PerspectiveCamera( 25, window.innerWidth / window.innerHeight, 1, 10000 );
	camera.position.z = 3000;

	scene = new THREE.Scene();

	// table

	for ( var i = 0; i < table.length; i += 5 ) {

		var element = document.createElement( 'div' );
		element.className = 'element';
		//element.style.backgroundColor = 'rgba(0,127,127,' + ( Math.random() * 0.5 + 0.25 ) + ')';
		
		var link = document.createElement('a');
		link.href = table[i + 2];
 		link.target = "_blank";


		var details = document.createElement("IMG");
		details.setAttribute("src", table[i]);
                details.setAttribute("width", "120");
                details.setAttribute("height", "160");
                details.setAttribute("alt", table[i + 1]);
		details.style.opacity = "0.7";
		//details.style.border: 5px solid red;
		link.appendChild(details); 
		element.appendChild(link);

		var object = new THREE.CSS3DObject( element );
		object.position.x = Math.random() * 4000 - 2000;
		object.position.y = Math.random() * 4000 - 2000;
		object.position.z = Math.random() * 4000 - 2000;
		scene.add( object );

		objects.push( object );

		//

		var object = new THREE.Object3D();
		object.position.x = ( table[ i + 3 ] * 140 ) - 1330;
		object.position.y = - ( table[ i + 4 ] * 180 ) + 1300;

		targets.table.push( object );

	}

	// sphere

	var vector = new THREE.Vector3();

	for ( var i = 0, l = objects.length; i < l; i ++ ) {

		var phi = Math.acos( -1 + ( 2 * i ) / l );
		var theta = Math.sqrt( l * Math.PI ) * phi;

		var object = new THREE.Object3D();

		object.position.x = 800 * Math.cos( theta ) * Math.sin( phi );
		object.position.y = 800 * Math.sin( theta ) * Math.sin( phi );
		object.position.z = 800 * Math.cos( phi );

		vector.copy( object.position ).multiplyScalar( 2 );

		object.lookAt( vector );

		targets.sphere.push( object );

	}

	// helix

	var vector = new THREE.Vector3();

	for ( var i = 0, l = objects.length; i < l; i ++ ) {

		var phi = i * 0.175 + Math.PI;

		var object = new THREE.Object3D();

		object.position.x = 900 * Math.sin( phi );
		object.position.y = - ( i * 8 ) + 450;
		object.position.z = 900 * Math.cos( phi );

		vector.x = object.position.x * 2;
		vector.y = object.position.y;
		vector.z = object.position.z * 2;

		object.lookAt( vector );

		targets.helix.push( object );

	}

	// grid

	for ( var i = 0; i < objects.length; i ++ ) {

		var object = new THREE.Object3D();

		object.position.x = ( ( i % 5 ) * 400 ) - 800;
		object.position.y = ( - ( Math.floor( i / 5 ) % 5 ) * 400 ) + 800;
		object.position.z = ( Math.floor( i / 25 ) ) * 1000 - 2000;

		targets.grid.push( object );

	}

	//

	renderer = new THREE.CSS3DRenderer();
	renderer.setSize( window.innerWidth, window.innerHeight );
	renderer.domElement.style.position = 'absolute';
	document.getElementById( 'container' ).appendChild( renderer.domElement );

	//

	controls = new THREE.TrackballControls( camera, renderer.domElement );
	controls.rotateSpeed = 0.5;
	controls.minDistance = 500;
	controls.maxDistance = 6000;
	controls.addEventListener( 'change', render );

	var button = document.getElementById( 'table' );
	button.addEventListener( 'click', function ( event ) {

		transform( targets.table, 2000 );

	}, false );

	var button = document.getElementById( 'sphere' );
	button.addEventListener( 'click', function ( event ) {

		transform( targets.sphere, 2000 );

	}, false );

	var button = document.getElementById( 'helix' );
	button.addEventListener( 'click', function ( event ) {

		transform( targets.helix, 2000 );

	}, false );

	var button = document.getElementById( 'grid' );
	button.addEventListener( 'click', function ( event ) {

		transform( targets.grid, 2000 );

	}, false );

	transform( targets.helix, 2000 );

	//

	window.addEventListener( 'resize', onWindowResize, false );

}

function transform( targets, duration ) {

	TWEEN.removeAll();

	for ( var i = 0; i < objects.length; i ++ ) {

		var object = objects[ i ];
		var target = targets[ i ];

		new TWEEN.Tween( object.position )
			.to( { x: target.position.x, y: target.position.y, z: target.position.z }, Math.random() * duration + duration )
			.easing( TWEEN.Easing.Exponential.InOut )
			.start();

		new TWEEN.Tween( object.rotation )
			.to( { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration )
			.easing( TWEEN.Easing.Exponential.InOut )
			.start();

	}

	new TWEEN.Tween( this )
		.to( {}, duration * 2 )
		.onUpdate( render )
		.start();

}

function onWindowResize() {

	camera.aspect = window.innerWidth / window.innerHeight;
	camera.updateProjectionMatrix();

	renderer.setSize( window.innerWidth, window.innerHeight );

	render();

}

function animate() {

	requestAnimationFrame( animate );

	TWEEN.update();

	controls.update();

}

function render() {

	renderer.render( scene, camera );

}


